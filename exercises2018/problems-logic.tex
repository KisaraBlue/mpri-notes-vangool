\input{preamble-notes}

\usepackage[final]{pdfpages}
\usepackage{graphicx}

\begin{document}

\thispagestyle{empty}
\begin{center}
{\bf Problem Set: Applications of duality theory to logic}
\end{center}

{\bf Problem 1.} Let $L$ be a finite distributive lattice with dual poset $X := \J(L)$. For any operator $f \colon L \to L$, define $R_f \subseteq X \times X$ by
\[ R_f := \{(x,y) \in X \times X \ | \ x \leq f(y)\}.\]

a. Prove that $R_f$ is order-compatible.\\

For any $R \subseteq X \times X$, define $f \colon \Down(X) \to \Down(X)$ by 
\[ f_R(U) := R^{-1}(U) = \{x \in X \ | \ \exists y \in U \text{ such that } xRy\}.\]

b. Prove that $f_R$ is an operator.\\

c. Let $f \colon L \to L$ be an operator and $\widehat{(-)} \colon L \to \Down(X)$ the lattice isomorphism defined by $\widehat{a} := \{x \in X = \J(L) \ | \ x \leq a\}$. Prove that, for any $a \in L$, $f_{R_f}(\widehat{a}) = \widehat{f(a)}$.\\

d. Let $R \subseteq X \times X$ be an order-compatible relation. Prove that, for any $x \in X$, ${\downarrow} x {R_{f_R}} {\downarrow} y$ if, and only if, $xRy$.\\

e. Prove that an operator $h \colon L \to L$ is a homomorphism if, and only if, $R_h[x]$ has a minimum for every $x \in X$.

{\it Hint.} To prove that a set $S \subseteq X$ has a minimum, it suffices to prove that (i) $S$ is non-empty, and (ii) $S$ is \emph{down-directed}, i.e., whenever $y_1, y_2 \in S$, there exists $y \in S$ with $y \leq y_1$ and $y \leq y_2$ (why?). For the right-to-left direction, begin by showing, using item (c), that, for any $x \in X$ and $a \in L$, $x \leq h(a)$ if, and only if, $\min R_h[x] \leq a$. \\

{\bf Problem 2.} Let $(L,\to)$ be a Heyting algebra, i.e., $L$ is a distributive lattice and $\to$ is a \emph{Heyting implication}, i.e., a binary operation on $L$ such that, for any $a, b, c \in L$, 
\[ a \wedge b \leq c \text{ if, and only if, } a \leq b \to c.\]

{\it {Note}} that a binary operation $\to$ is a Heyting implication on $L$, if, and only if, for every $b \in L$, the pair of maps $f_b \colon L \leftrightarrows L \colon g_b$, defined by 
\[ f_b(a) := a \wedge b, \quad g_b(c) := b \to c,\]
is an adjunction.\\ %Use this observation and earlier exercises on adjunctions to prove the following.\\

a. Show that any lattice admits at most one Heyting implication.\\

b. Show that any lattice which admits a Heyting implication must be distributive. Is this a sufficient condition?\\

c. Show that, for any $a, b_1, b_2 \in L$, $a \to (b_1 \wedge b_2) = (a \to b_1) \wedge (a \to b_2)$, and $a \to \top = \top$.\\

%d. Show that, for any $a_1, a_2, b \in L$, $(a_1 \vee a_2) \Rightarrow b = (a_1 \Rightarrow b) \wedge (a_2 \Rightarrow b)$ and $\bot \Rightarrow a = \top$.\\

d. Prove that, if $(X, \leq)$ is a poset, then the distributive lattice $\Down(X)$ admits a Heyting implication. Conclude that, in particular, any finite distributive lattice admits a Heyting implication.

{\it Hint.} For $U, V \in \Down(X)$, define $U \Rightarrow V := ({\uparrow}(U \cap V^c))^c,$
  and show that this is a Heyting implication. \\

e. (+) Prove that, for any Heyting algebra $(L,\to)$, the embedding $\widehat{(-)} \colon L \to \Down(X_L)$ preserves the Heyting implication.\\


An \emph{Esakia space} is a Priestley space $X$ such that, for any open subset $U \subseteq X$, ${\uparrow} U$ is open. \\

f. (+) Prove that, for any distributive lattice $L$, $L$ admits a Heyting implication if, and only if, $X_L$ is an Esakia space.\\


%f. Explain why, in an Esakia space, ${\uparrow} K$ is clopen for any clopen subset $K$.\\ 

%Let $L$ be a distributive lattice with dual Priestley space $X_L$, and suppose further that $X_L$ is an Esakia space.\\

%g. Show that, for any $a, b \in L$, the set $({\uparrow}[\widehat{a} \cap (\widehat{b})^c])^c$ is a clopen down-set.\\

%h. For any $a, b \in L$, let $a \Rightarrow b$ be the unique element such that $\widehat{a \Rightarrow b} = ({\uparrow}[\widehat{a} \cap (\widehat{b})^c])^c.$
%Prove that $\Rightarrow$ is a Heyting implication on $L$.\\

%Let $S \subseteq L$ be a finite subset, and denote by $M$ the (bounded) sublattice generated by $S$. Prove that, if $a \Rightarrow b$ 
%\newcommand{\IPL}{\mathrm{IPL}}
%{\bf Problem 3.} Let $P$ be a set of propositional variables, and let $\mathcal{T}(P)$ be the set of propositional terms (formulas) in variables $P$, built with the operations $\bot, \top, \vee, \wedge, \to$. For any subset $\Gamma \cup \{\phi\}$ of $\mathcal{T}(P)$, we say $\phi$ is an consequence  of $\Gamma$ in intuitionistic propositional logic (IPL), notation: $\Gamma \Vdash_{\IPL} \phi$, if, and only if, for every function $v \colon P \to H$ with $H$ a Heyting algebra, such that the unique homomorphism $V \colon \mathcal{T}(P) \to H$ extending $v$ satisfies $V(\gamma) = \top$ for all $\gamma \in \Gamma$, we have $V(\phi) = \top$. We write $\phi \equiv_{\IPL} \psi$ when $\{\phi\} \Vdash_{\IPL} \psi$ and $\{\psi\} \Vdash_{\IPL} \phi$.\\

%a. Explain why $\equiv_{\IPL}$ is a \emph{Heyting congruence}, i.e., an equivalence relation which respects all of the operations $\vee, \wedge, \to$ on $\mathcal{T}(P)$, such that the quotient $\mathcal{T}(P)/{\equiv_{\IPL}}$ is a Heyting algebra.

%{\bf Problem 3.} Give an example of a distributive lattice $L$ and an operator $f \colon L \times L \to L$ such that $f$ is not join-preserving.\\

{\bf Problem 3.} Let $P$ be a set of propositional variables, and let $\mathcal{T}(P)$ be the set of modal formulas in variables $P$, built with the operations $\bot, \top, \vee, \wedge, \to, \Diamond$.\\

a. Prove that, for any modal algebra $(B,\Diamond)$ and any function $v \colon P \to B$, there is a unique modal homomorphism $V \colon \mathcal{T}(P) \to B$ extending $v$.\\

%For $\phi, \psi \in \mathcal{T}(P)$, we say that the equation $\phi \approx \psi$ is \emph{valid} in $(B,\Diamond)$ if, for every function $v \colon P \to B$, we have $V(\phi) = V(\psi)$.

Let $\Lambda = \mathbf{K}\Sigma$ be the normal modal logic axiomatized by a set of modal formulas $\Sigma$. We say that $(B, \Diamond)$ is a \emph{$\Lambda$-algebra} if $(B,\Diamond)$ validates the equation $\sigma \approx \top$ for every formula $\sigma \in \Sigma$. (Note that, when $\Sigma = \emptyset$, a $\mathbf{K}$-algebra is just a modal algebra.) For $\phi, \psi \in \mathcal{T}(P)$, we write $\phi \equiv_\Lambda \psi$ if, and only if, the equation $\phi \approx \psi$ is valid in every $\Lambda$-algebra $(B,\Diamond)$.\\

b. Prove that $\equiv_{\Lambda}$ is a \emph{modal congruence}, i.e., $\equiv_{\Lambda}$ is an equivalence relation, and whenever $\phi_1 \equiv_{\Lambda} \psi_1$ and $\phi_2 \equiv_{\Lambda} \psi_2$, we have $\phi_1 \vee \phi_2 \equiv_{\Lambda} \psi_1 \vee \psi_2$, $\neg\phi_1 \equiv_{\Lambda} \neg\psi_1$, and $\Diamond\phi_1 \equiv_{\Lambda} \Diamond\psi_1$.\\

The \emph{Lindenbaum algebra for $\Lambda$} or \emph{free $\Lambda$-algebra} is defined as the quotient $F_{\Lambda}(P) := \mathcal{T}(P)/{\equiv_\Lambda}$.\\

c. Show that $F_{\Lambda}(P)$ is a $\Lambda$-algebra.\\

d. Show that, for any $\Lambda$-algebra $(B,\Diamond)$ and function $v \colon P \to B$, there exists a unique modal homomorphism $V \colon F_{\Lambda}(P) \to B$.\\

Let $(X,\tau,R)$ be a Boolean frame with dual modal algebra $(B,\Diamond)$, and let $v \colon P \to B$ be an admissible valuation.\\ %Write $\Diamond_R \colon $ for the operator defined by $\Diamond_R(U) := R^{-1}[U]$ for any $U \in \mathcal{P}(X)$. \\

e. Prove that the function $F_{\mathbf{K}}(P) \to B$, defined by $\phi \mapsto \{x \in X \ | \ (X,R,v), x \models \phi\}$, coincides with the modal homomorphism from (d).

%Let $\Sigma$ be a set of modal formulas.

%For any subset $\Gamma \cup \{\phi\}$ of $\mathcal{T}(P)$, we say $\phi$ is an consequence  of $\Gamma$ in modal logic $\Lambda$, notation: $\Gamma \Vdash_{\IPL} \phi$, if, and only if, for every function $v \colon P \to H$ with $H$ a Heyting algebra, such that the unique homomorphism $V \colon \mathcal{T}(P) \to H$ extending $v$ satisfies $V(\gamma) = \top$ for all $\gamma \in \Gamma$, we have $V(\phi) = \top$. We write $\phi \equiv_{\IPL} \psi$ when $\{\phi\} \Vdash_{\IPL} \psi$ and $\{\psi\} \Vdash_{\IPL} \phi$.

\newpage

{\bf Problem 4.} This problem asks you to fill in some details in the Rasiowa-Sikorski proof of completeness of predicate logic via the Stone dual space.

\begin{enumerate}
\item Let $L$ be a distributive lattice and $S \subseteq L$. Prove that, if $\widehat{\bigvee S} = \bigcup_{s \in S} \widehat{s}$, then there is a finite subset $F \subseteq S$ such that $\bigvee F = \bigvee S$.

\item Let $X$ be a topological space. The \emph{closure} of a subset $S$ of $X$ is defined as $\overline{S} := \bigcap \{ C \text{ closed }  \ | \ S \subseteq C\}$, i.e., $\overline{S}$ is the smallest closed set containing $S$. The \emph{interior} is defined as $\mathrm{int}(S) :=\bigcup \{ U \text{ open } \ | \ U \subseteq S\}$, i.e., the smallest open set contained in $S$. The \emph{boundary} of an open set $U$ is defined as $\partial U := \overline{U} \setminus U$. Prove that, for any open set $U \subseteq X$, $\partial U$ is closed, and that the interior of $\partial U$ is empty.

\item A topological space is called \emph{Baire} if any countable union of closed sets with empty interior has empty interior. Prove, or find a proof in the literature, that every compact Hausdorff space is Baire.

\end{enumerate}
\end{document}